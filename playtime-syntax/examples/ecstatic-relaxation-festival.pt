(context ecstatic-relaxation-festival
  (roles
    (vibe-curator
      (moves
        ('set-mood
          (define mood (self 'respond 'choose party mood'))
          (groove-guide 'adjust-music mood)
          (ambiance-artist 'sync-lights mood))
        ('read-room
          (define energy-level (self 'respond 'assess room energy'))
          (groove-guide 'match-energy energy-level)))
      (requires (self 'is-empathetic)))

    (groove-guide
      (moves
        ('adjust-music mood
          (self 'respond 'select music for' mood))
        ('match-energy energy-level
          (self 'respond 'adjust tempo to' energy-level))
        ('invite-dance
          (define dancer (self 'respond 'choose nearby person'))
          (dancer 'join-dance-floor)))
      (requires (self 'has-rhythm)))

    (ambiance-artist
      (moves
        ('sync-lights mood
          (self 'respond 'adjust lighting for' mood))
        ('create-chill-zone
          (define location (self 'respond 'choose cozy corner'))
          (self 'respond 'arrange cushions and soft lights at' location)))
      (requires (self 'is-creative)))

    (connection-catalyst
      (moves
        ('introduce-strangers
          (define person1 (self 'respond 'choose person looking around'))
          (define person2 (self 'respond 'choose another person nearby'))
          (self 'respond 'introduce' person1 'to' person2))
        ('spark-conversation
          (define topic (self 'respond 'think of interesting topic'))
          (define group (self 'respond 'gather small group'))
          (group 'discuss topic)))
      (requires (self 'is-sociable)))

    (zen-zephyr
      (moves
        ('offer-mindfulness
          (define participant (self 'respond 'invite calm-seeking person'))
          (participant 'practice brief meditation'))
        ('create-peace-pocket
          (define location (ambiance-artist 'create-chill-zone))
          (self 'respond 'guide gentle breathing at' location)))
      (requires (self 'is-calming)))

    (joy-juggler
      (moves
        ('start-game
          (define game (self 'respond 'choose fun party game'))
          (define players (self 'respond 'invite nearby people'))
          (players 'play game))
        ('share-compliments
          (define recipient (self 'respond 'choose nearby person'))
          (self 'respond 'give heartfelt compliment to' recipient)))
      (requires (self 'is-playful)))
  )

  (enactment
    (let ((party-pulse (vibe-curator 'read-room)))
      (vibe-curator 'set-mood)
      (connection-catalyst 'introduce-strangers)
      (joy-juggler 'start-game)
      (zen-zephyr 'create-peace-pocket)
      (groove-guide 'invite-dance)
      (connection-catalyst 'spark-conversation)
      (joy-juggler 'share-compliments)
      (zen-zephyr 'offer-mindfulness))))

;; Example initialization
(emergent-party
  (vibe-curator '(emma))
  (groove-guide '(jazz))
  (ambiance-artist '(luna))
  (connection-catalyst '(social-sam))
  (zen-zephyr '(calm-cathy))
  (joy-juggler '(fun-fred)))